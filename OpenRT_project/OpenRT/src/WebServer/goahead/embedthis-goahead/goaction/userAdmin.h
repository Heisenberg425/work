/*********************************************************************************************************
**
**                                    中国软件开源组织
**
**                                   嵌入式实时操作系统
**
**                                SylixOS(TM)  LW : long wing
**
**                               Copyright All Rights Reserved
**
**--------------文件信息--------------------------------------------------------------------------------
**
** 文   件   名: userAdmin.h
**
** 创   建   人: Chen.HongBang (陈洪邦)
**
** 文件创建日期: 2018 年 8 月 28 日
**
** 描        述: 用户管理
*********************************************************************************************************/
#ifndef __USERADMIN_H
#define __USERADMIN_H

/*********************************************************************************************************
  用户类型定义
*********************************************************************************************************/
#define ROLE_ADMIN          "admin"                                     /*  管理员                      */
#define ROLE_OPERATOR       "operator"                                  /*  操作员                      */
#define ROLE_VISITOR        "visitor"                                   /*  游客                        */
#define WEBS_SESSION_USER   "_:WEBSUSER:_"                              /* WEBSUSER 变量                */
/*********************************************************************************************************
  行为类型定义
*********************************************************************************************************/
enum {
    ACTION_OPERAT,
    ACTION_VIEW
};
/*********************************************************************************************************
  在线用户结构定义
*********************************************************************************************************/
typedef struct online_user_t {
    char     *sessionID;                                                /*  session 信息                */
    WebsUser  user;                                                     /*  goahead 用户信息            */
} ONLINE_USER;
/*********************************************************************************************************
  宏定义
*********************************************************************************************************/
#define MAX_ONLINE_USERS          (50)                                  /*  最大在线用户配置            */
/*********************************************************************************************************
  外部函数定义
*********************************************************************************************************/
bool   isUserLogin(Webs *wp);
BOOL   userLoginAuth(Webs *wp, INT32  iModule, UINT8  ucOperaType);
PCHAR  getUserOnlineSessionID (PCHAR  pcUserName);
BOOL   userOnline (PCHAR  pcSessionID, PCHAR  pcUserName);
INT    userOffline (PCHAR  pcUserName);

PUBLIC void websSetSessionInValidate(char* sessionID);

#endif                                                                  /* __USERADMIN_H                */
/*********************************************************************************************************
  END
*********************************************************************************************************/

