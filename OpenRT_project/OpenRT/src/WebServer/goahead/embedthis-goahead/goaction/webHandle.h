/*********************************************************************************************************
**
**                                    中国软件开源组织
**
**                                   嵌入式实时操作系统
**
**                                SylixOS(TM)  LW : long wing
**
**                               Copyright All Rights Reserved
**
**--------------文件信息--------------------------------------------------------------------------------
**
** 文   件   名: webHandle.h
**
** 创   建   人: Wu.PengCheng (吴鹏程)
**
** 文件创建日期: 2018 年6 月 9 日
**
** 描        述: action 接口 web操作抽象
*********************************************************************************************************/
#ifndef __WEB_HANDLE_H_
#define __WEB_HANDLE_H_

#include "goahead.h"
#include "cJSON.h"
#include "operLog.h"
#include "userAdmin.h"

/*********************************************************************************************************
  全局 Json
*********************************************************************************************************/
cJSON              _G_ErrorJRes;

/*********************************************************************************************************
  函数接口声明
*********************************************************************************************************/
/*********************************************************************************************************
** 函数名称: cJsonErrorReturnInit
** 功能描述: 出错时返回 Json 初始化
** 输　入  : NONE
** 输　出  : NONE
** 返　回  : NONE
*********************************************************************************************************/
VOID  cJsonErrorReturnInit (VOID);

/*********************************************************************************************************
** 函数名称: webHeadHandle
** 功能描述: action 收到请求时，Web 头部的处理
** 输　入  : wp                 Web 句柄
**           iStates            http 头code编码
** 输　出  : NONE
** 返　回  : ERROR_CODE
*********************************************************************************************************/
INT  webHeadHandle (Webs *wp, INT  iStates);

/*********************************************************************************************************
** 函数名称: webBackHandle
** 功能描述: action 完成请求时，返回时的处理
** 输　入  : wp                 Web 句柄
**           cpJson             返回的cpJson内容
** 输　出  : NONE
** 返　回  : ERROR_CODE
*********************************************************************************************************/
VOID  webBackHandle (Webs  *wp, cJSON  *pcJson);

#endif                                                                  /* __WEB_HANDLE_H_              */
